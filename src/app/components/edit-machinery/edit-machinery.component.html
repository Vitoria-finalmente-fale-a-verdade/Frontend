<app-edit-form
  [loading]="loading"
  [visible]="visible"
  (onCancel)="onCancel()"
  (onSave)="onSubmit()"
  [title]="(edit ? 'Editar' : 'Novo') + ' maquinário'"
>
  <form [formGroup]="editForm" id="edit-form" class="flex flex-col gap-3 min-w-72 max-w-96" (keyup.enter)="onSubmit()">
    <p-floatlabel variant="on">
      <p-select
        id="activity"
        class="w-full"
        [options]="activityList"
        formControlName="activityId"
        optionLabel="category"
        [loading]="loadingActivities"
        appendTo="body"
        dataKey="id"
        optionValue="id"
      />
      <label class="block text-sm font-medium text-gray-700 mb-1" for="state">Atividade</label>
    </p-floatlabel>
    <div class="flex gap-2 items-center">
      <p-floatlabel variant="on">
        <input
          id="description"
          formControlName="description"
          type="text"
          pInputText
          class="w-full"
        />
        <label class="block text-sm font-medium text-gray-700 mb-1" for="description">Descrição</label>
      </p-floatlabel>
      <p-floatlabel variant="on" class="flex-2">
        <p-datePicker
          id="acquisitionDate"
          class="flex w-full"
          formControlName="acquisitionDate"
          showIcon
          [maxDate]="today"
          appendTo="body"
          dateFormat="dd/mm/yy"
        />
        <label class="block text-sm font-medium text-gray-700 mb-1" for="acquisitionDate">Data de aquisição</label>
      </p-floatlabel>
    </div>
    <div class="flex items-center gap-2">
      <p-floatlabel variant="on">
        <p-input-number
          id="serviceLife"
          inputId="serviceLife"
          formControlName="serviceLife"
        />
        <label class="block text-sm font-medium text-gray-700 mb-1" for="serviceLife">Vida útil</label>
      </p-floatlabel>
      <p-floatlabel variant="on">
        <p-input-number
          id="acquisitionValue"
          inputId="acquisitionValue"
          formControlName="acquisitionValue"
          mode="currency"
          currency="BRL"
        />
        <label class="block text-sm font-medium text-gray-700 mb-1" for="acquisitionValue">Valor de compra</label>
      </p-floatlabel>
    </div>
    <p-toggle-button
      id="isDepreciable"
      formControlName="isDepreciable"
      onLabel="Depreciável"
      offLabel="Depreciável"
      onIcon="pi pi-check"
    />
  </form>
</app-edit-form>