<app-edit-form
  [loading]="loading"
  [visible]="visible"
  (onCancel)="onCancel()"
  (onSave)="onSubmit()"
  [title]="(user?.id ? 'Editar' : 'Novo') + ' usuário'"
>
  <form [formGroup]="editForm" (keyup.enter)="onSubmit()" id="edit-form" class="flex flex-col gap-2">
    <p-floatlabel variant="on">
      <label class="block text-sm font-medium text-gray-700 mb-1" for="firstName">Nome</label>
      <input
        id="firstName"
        formControlName="firstName"
        type="text"
        class="w-full px-4 py-2"
        pInputText
        required
      />
    </p-floatlabel>
    <p-floatlabel variant="on">
      <label class="block text-sm font-medium text-gray-700 mb-1" for="lastName">Sobrenome</label>
      <input
        id="lastName"
        formControlName="lastName"
        type="text"
        class="w-full px-4 py-2"
        pInputText
        required
      />
    </p-floatlabel>
    <div class="flex gap-2 items-center">
      <p-floatlabel variant="on" class="flex-2">
        <label class="block text-sm font-medium text-gray-700 mb-1" for="username">Username</label>
        <input
          id="username"
          formControlName="username"
          type="text"
          class="w-full px-4 py-2"
          pInputText
          required
        />
      </p-floatlabel>
      <p-inputmask
        variant="outlined"
        mask="?(99) 99999-9999"
        placeholder="Celular"
        unmask
        id="phoneNumber"
        formControlName="phoneNumber"
        class="flex-1"
      />
    </div>
    <p-multi-select
      [options]="roleList"
      formControlName="roles"
      optionLabel="name"
      placeholder="Selecione as permissões"
      [loading]="!roleList"
      [filter]="false"
      appendTo="body"
      dataKey="id"
      optionValue="id"
    />
  </form>
</app-edit-form>
